(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sampleApprove/index"],{"0e90":function(t,e,a){"use strict";a.r(e);var o=a("60c2"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,(function(){return o[t]}))}(s);e["default"]=n.a},"1b1f":function(t,e,a){"use strict";(function(t){a("88c8");o(a("66fd"));var e=o(a("77ad"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"60c2":function(t,e,a){"use strict";(function(t){function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){a.e("components/sample/sample-term").then(function(){return resolve(a("a068"))}.bind(null,a)).catch(a.oe)},s={4:"2",0:"5",1:"3",2:"0",3:"2"},i={components:{sampleTerm:n},data:function(){var t;return{DETAIL_STOKEN:s,taskId:"",sampleStatus:"",router:{},pageTitle:"",approveText:"",taskInfo:(t={projectName:"",consignorName:"",inspectionName:"",sampleCount:"",jobId:"",toCollectSampleCount:"",toConfirmSampleCount:"",confirmedSampleCount:"",toStockSampleCount:"",stockedSampleCount:"",toReviewSampleCount:""},o(t,"toCollectSampleCount",""),o(t,"vos",[]),t)}},onLoad:function(t){t.taskId&&(this.sampleStatus=t.sampleStatus,this.taskId=t.taskId)},onShow:function(){"4"===this.sampleStatus?this.getSapmleApproveList():this.getSampleList()},mounted:function(){switch(this.sampleStatus){case"4":this.pageTitle="样品复核",this.approveText="一键复核通过";break;case"0":this.pageTitle="样品确认",this.approveText="一键确认通过";break;case"1":this.pageTitle="样品入库申请",this.approveText="一键申请入库";break;case"2":this.pageTitle="任务样品",this.approveText="";break;default:this.pageTitle="样品复核",this.approveText="一键复核通过"}t.setNavigationBarTitle({title:this.pageTitle})},methods:{getSampleList:function(){var t=this,e={taskId:this.taskId,sampleStatus:this.sampleStatus};this.$api.getSampleListByCondition(e,(function(e){200===e.code&&(t.taskInfo=e.result||{})}))},getSapmleApproveList:function(){var t=this;this.$api.getSampleItemsByTaskId({taskId:this.taskId},(function(e){200===e.code&&(t.taskInfo=e.result||{})}))},handleApprove:function(){var e=this,a=this.taskInfo.vos.map((function(t){return t.sampItemId}));if("0"===this.sampleStatus){var o={sampItemId:a.toString(),auditFlag:1,auditReason:""};this.$api.auditSampleItem(o,(function(a){200==a.code?(e.$common.successToShow("审批通过"),t.navigateBack({delta:1})):e.$common.errorToShow(a.message)}))}else if("1"===this.sampleStatus){var n={sampleItemId:a.toString()};this.$api.sampStoreApply(JSON.stringify(n),(function(a){200==a.code?(e.$common.successToShow("入库成功"),t.navigateBack({delta:1})):e.$common.errorToShow(a.message)}))}else if("4"===this.sampleStatus){var s={sampleItemId:a.toString()};this.$api.batchReviewSampleItem(JSON.stringify(s),(function(a){200==a.code?(e.$common.successToShow("复核成功"),t.navigateBack({delta:1})):e.$common.errorToShow(a.message)}))}}}};e.default=i}).call(this,a("543d")["default"])},6165:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},s=[]},"77ad":function(t,e,a){"use strict";a.r(e);var o=a("6165"),n=a("0e90");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e9c0");var i,c=a("f0c5"),r=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"42ee6759",null,!1,o["a"],i);e["default"]=r.exports},c838:function(t,e,a){},e9c0:function(t,e,a){"use strict";var o=a("c838"),n=a.n(o);n.a}},[["1b1f","common/runtime","common/vendor"]]]);